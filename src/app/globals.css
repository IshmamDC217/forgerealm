@font-face {
  font-family: "Bree Serif";
  src: url("/fonts/Bree_Serif/BreeSerif-Regular.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Bree Serif";
  src: url("/fonts/Bree_Serif/BreeSerif-Regular.ttf") format("truetype");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Bree Serif";
  src: url("/fonts/Bree_Serif/BreeSerif-Regular.ttf") format("truetype");
  font-weight: 800;
  font-style: normal;
  font-display: swap;
}

:root {
  --background: #ffffff;
  --foreground: #171717;
  --font-display: "Bree Serif", serif;
  /* theme tokens for adaptive UI */
  --fg: var(--foreground);
  --fg-muted: #374151; /* gray-700 for stronger contrast on light */
  --surface: rgba(255, 255, 255, 0.88); /* translucent white for overlays on blue */
  --border: rgba(0, 0, 0, 0.12);
}

/* Explicit theme override via data-theme attribute */
[data-theme="light"] {
  --background: #f7f5f0;
  --foreground: #0f172a;
  --fg: #0f172a;
  --fg-muted: #475569;
  --surface: rgba(255, 255, 255, 0.9);
  --border: rgba(15, 23, 42, 0.12);
}

[data-theme="dark"] {
  --background: #0a0a0a;
  --foreground: #ededed;
  --fg: #ededed;
  --fg-muted: #cbd5e1; /* slate-300 for dark */
  --surface: rgba(255, 255, 255, 0.07);
  --border: rgba(255, 255, 255, 0.10);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-fg: var(--fg);
  --color-fg-muted: var(--fg-muted);
  --color-surface: var(--surface);
  --color-border: var(--border);

  /* ✅ Link to Next.js font variables */
  --font-sans: ui-sans-serif, system-ui, -apple-system, sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, monospace;
}

/* System preference is used only when no explicit data-theme is set */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* ✅ Use Geist fonts with local fallbacks for instant render */
body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), ui-sans-serif, system-ui, -apple-system, sans-serif;
}

html,
body {
  overflow-x: hidden !important;
}

/* Keep viewport width stable when scrollbars toggle. */
html {
  scrollbar-gutter: stable;
}

/* Force white text in the Work carousel even under light theme overrides. */
.work-force-white,
.work-force-white * {
  color: #ffffff !important;
}

/* Utility: display font for brand/headers */
.font-display {
  font-family: "Bree Serif", serif !important;
}

/* Brand display font for the main hero wordmark */
.font-brand {
  font-family: var(--font-display), var(--font-sans), ui-sans-serif, -apple-system, sans-serif !important;
  letter-spacing: 0.02em;
  font-weight: 400;
}

/* Stronger surface glass effect for select containers */
.surface-strong {
  background-color: rgba(255, 255, 255, 0.10) !important; /* default fallback */
}

[data-theme="dark"] .surface-strong {
  background-color: rgba(255, 255, 255, 0.12) !important; /* less transparent */
}

[data-theme="light"] .surface-strong {
  background-color: rgba(255, 255, 255, 0.92) !important; /* slightly more solid in light */
}

/* Basic, global light-mode expectation */
[data-theme="light"] #theme-scope {
  background: #ebe2d2 !important;
  color: #0f172a !important;
}

/* Light mode surfaces: vibrant warm glass panels with rich contrast */
[data-theme="light"] #theme-scope .theme-surface {
  background: linear-gradient(135deg, #fef7f0 0%, #fdf4e8 25%, #f8f0e0 50%, #f0e8d0 75%, #e8dcc0 100%);
  position: relative;
}

[data-theme="light"] #theme-scope .theme-surface::before {
  content: '';
  position: absolute;
  inset: 0;
  background: 
    radial-gradient(circle at 20% 30%, rgba(59, 130, 246, 0.10) 0%, transparent 50%),
    radial-gradient(circle at 80% 70%, rgba(16, 185, 129, 0.08) 0%, transparent 45%),
    radial-gradient(circle at 60% 20%, rgba(139, 92, 246, 0.06) 0%, transparent 40%),
    radial-gradient(circle at 40% 80%, rgba(245, 158, 11, 0.04) 0%, transparent 35%);
  pointer-events: none;
}

[data-theme="light"] #theme-scope .theme-surface::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.15) 1px, transparent 1px),
    radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.10) 1px, transparent 1px);
  background-size: 60px 60px, 40px 40px;
  background-position: 0 0, 20px 20px;
  opacity: 0.3;
  pointer-events: none;
}

/* Light theme gradients aligned to vibrant warm glass aesthetic */
[data-theme="light"] #theme-scope #services {
  background: linear-gradient(135deg, #fef7f0 0%, #fdf4e8 30%, #f8f0e0 60%, #f0e8d0 90%, #e8dcc0 100%) !important;
  position: relative;
}

[data-theme="light"] #theme-scope #services::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 25% 40%, rgba(59, 130, 246, 0.12) 0%, transparent 60%),
              radial-gradient(circle at 75% 60%, rgba(16, 185, 129, 0.08) 0%, transparent 50%);
  pointer-events: none;
}

[data-theme="light"] #theme-scope #materials {
  background: linear-gradient(315deg, #fef7f0 0%, #fdf4e8 35%, #f0f4e8 70%, #e0f0d8 100%) !important;
  position: relative;
}

[data-theme="light"] #theme-scope #materials::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 30% 50%, rgba(34, 197, 94, 0.10) 0%, transparent 55%),
              radial-gradient(circle at 70% 30%, rgba(59, 130, 246, 0.06) 0%, transparent 45%);
  pointer-events: none;
}

/* Work: vibrant warm gradient with rich depth */
[data-theme="light"] #theme-scope #work {
  background: linear-gradient(135deg, #fef7f0 0%, #fdf4e8 40%, #f8f0e0 80%, #f0e8d0 100%) !important;
  position: relative;
}

[data-theme="light"] #theme-scope #work::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 40% 60%, rgba(251, 146, 60, 0.08) 0%, transparent 50%),
              radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.06) 0%, transparent 45%);
  pointer-events: none;
}

/* FAQ + Contact: vibrant gold and blue tones with rich contrast */
[data-theme="light"] #theme-scope #faq {
  background: linear-gradient(135deg, #fef7f0 0%, #fdf4e8 40%, #f8f0e0 80%, #f0e8d0 100%) !important;
  position: relative;
}

[data-theme="light"] #theme-scope #faq::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 20% 50%, rgba(245, 158, 11, 0.10) 0%, transparent 55%),
              radial-gradient(circle at 80% 40%, rgba(59, 130, 246, 0.08) 0%, transparent 50%);
  pointer-events: none;
}

[data-theme="light"] #theme-scope #contact {
  background: linear-gradient(315deg, #fef7f0 0%, #fdf4e8 40%, #f0f4f8 80%, #e0e8f0 100%) !important;
  position: relative;
}

[data-theme="light"] #theme-scope #contact::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 25% 35%, rgba(59, 130, 246, 0.12) 0%, transparent 60%),
              radial-gradient(circle at 75% 65%, rgba(16, 185, 129, 0.08) 0%, transparent 50%);
  pointer-events: none;
}

/* Light mode text fixes for dark-tuned utility classes inside theme scope */
[data-theme="light"] #theme-scope .text-slate-200,
[data-theme="light"] #theme-scope .text-slate-200\/80,
[data-theme="light"] #theme-scope .text-slate-300,
[data-theme="light"] #theme-scope .text-slate-300\/70,
[data-theme="light"] #theme-scope .text-slate-400,
[data-theme="light"] #theme-scope .text-white,
[data-theme="light"] #theme-scope .text-white\/90,
[data-theme="light"] #theme-scope .text-white\/60,
[data-theme="light"] #theme-scope .text-white\/70,
[data-theme="light"] #theme-scope .text-white\/80 {
  color: #1f2937 !important;
}

/* Light mode: warm amber text tokens for FAQ accents */
[data-theme="light"] #theme-scope .text-amber-100,
[data-theme="light"] #theme-scope .text-amber-200,
[data-theme="light"] #theme-scope .text-amber-200\/70 {
  color: #7c2d12 !important;
}
[data-theme="light"] #theme-scope .border-amber-200\/40 {
  border-color: rgba(124, 45, 18, 0.3) !important;
}
[data-theme="light"] #theme-scope .bg-amber-400\/10 {
  background-color: rgba(252, 211, 77, 0.25) !important;
}

/* Light mode modal surfaces for Work + Shop */
[data-theme="light"] #theme-scope .work-modal,
[data-theme="light"] #theme-scope .shop-modal {
  background-color: #f7f4ee !important;
  border-color: rgba(15, 23, 42, 0.16) !important;
  color: #0f172a;
  border-radius: 1.5rem;
}

[data-theme="light"] #theme-scope .modal-overlay {
  background-color: rgba(15, 23, 42, 0.45) !important;
}

[data-theme="light"] #theme-scope .modal-label {
  color: #0f172a !important;
}

[data-theme="light"] #theme-scope .modal-header {
  border-top-left-radius: 1.5rem;
  border-top-right-radius: 1.5rem;
}

.modal-body {
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;
  touch-action: pan-y;
}

/* Light mode card contrast + shadow for all containers */
[data-theme="light"] #theme-scope .bg-white\/5 {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.88) 0%, rgba(255, 255, 255, 0.82) 100%) !important;
  box-shadow: 
    0 20px 40px -20px rgba(0, 0, 0, 0.12), 
    0 8px 16px -8px rgba(59, 130, 246, 0.10), 
    inset 0 1px 0 rgba(255, 255, 255, 0.8),
    0 0 0 1px rgba(59, 130, 246, 0.08) !important;
  border: 1px solid rgba(59, 130, 246, 0.15) !important;
  backdrop-filter: blur(24px) !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

[data-theme="light"] #theme-scope .bg-white\/5:hover {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.90) 100%) !important;
  box-shadow: 
    0 32px 64px -24px rgba(0, 0, 0, 0.15), 
    0 16px 32px -16px rgba(59, 130, 246, 0.15), 
    inset 0 1px 0 rgba(255, 255, 255, 0.9),
    0 0 0 1px rgba(59, 130, 246, 0.2) !important;
  transform: translateY(-2px) !important;
}

[data-theme="light"] #theme-scope .border-white\/10 {
  border-color: rgba(59, 130, 246, 0.2) !important;
}

[data-theme="light"] #theme-scope .border-white\/20 {
  border-color: rgba(59, 130, 246, 0.25) !important;
}

/* Light mode: stronger contrast for FAQ sidebar KPI cards */
[data-theme="light"] #theme-scope #faq .bg-white\/5 {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.8) 100%) !important;
  box-shadow: 0 24px 50px -35px rgba(0, 0, 0, 0.2), 0 12px 24px -12px rgba(245, 158, 11, 0.12) !important;
}

[data-theme="light"] #theme-scope #faq .text-white {
  color: #1f2937 !important;
}
/* Make specific CTA text white in light mode for contrast on dark button */
[data-theme="light"] #theme-scope .email-cta {
  color: #ffffff !important;
}

/* Light mode card treatment */
[data-theme="light"] .light-panel {
  background: linear-gradient(45deg, #fff -25%, transparent);
  box-shadow: inset -5px 5px 5px -5px #fff8, inset 5px -5px 5px -5px #fff8,
    var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000),
    var(--tw-shadow), 2px -1px 14px -10px #0004;
  border-color: rgba(203, 213, 225, 0.8);
}

code, pre {
  font-family: var(--font-mono), ui-monospace, SFMono-Regular, Menlo, monospace;
}

/* Animations & custom utilities (unchanged) */
@keyframes marquee {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-50%);
  }
}

#workScroller::-webkit-scrollbar {
  display: none;
}

/* Global styles for Spline scaling */
.spline-scene {
  width: 100vw; /* Full viewport width */
  height: 100vh; /* Full viewport height */
}

/* For tablets (max-width: 1024px), reduce the size a bit */
@media (max-width: 1024px) {
  .spline-scene {
    width: 85vw;
    height: 85vh;
  }
}

/* For mobile screens (max-width: 640px), scale down even more */
@media (max-width: 640px) {
  .spline-scene {
    width: 75vw;
    height: 75vh;
  }
}

/* Smooth spinning animation */
@keyframes spin-smooth {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
.animate-spin-smooth {
  animation: spin-smooth 2.2s linear infinite;
}

/* Soft pulse animation */
@keyframes pulse-soft {
  0%, 100% { opacity: 0.4; transform: scale(0.95); }
  50% { opacity: 0.8; transform: scale(1); }
}
.animate-pulse-soft {
  animation: pulse-soft 2.5s ease-in-out infinite;
}

/* Glowing fade animation */
@keyframes fade-glow {
  0%, 100% { opacity: 0.7; filter: drop-shadow(0 0 10px rgba(96,165,250,0.4)); }
  50% { opacity: 1; filter: drop-shadow(0 0 18px rgba(96,165,250,0.6)); }
}
.animate-fade-glow {
  animation: fade-glow 3s ease-in-out infinite;
}

/* Shimmer animation */
@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(300%); }
}
.animate-shimmer {
  animation: shimmer 1.8s linear infinite;
}

/* Button adjustments */
.button-explore {
  padding-left: 24px;
  padding-right: 24px;
  padding-top: 12px;
  padding-bottom: 12px;
  font-size: 1.125rem;
}

/* Hero spline positioning */
.hero-spline {
  position: absolute !important;
  top: 0;
  left: 0;
  width: 100vw !important;
  height: 100vh !important;
  object-fit: cover;
}

@keyframes pulse-slow {
  0%, 100% { opacity: 0.6; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.1); }
}

@keyframes pulse-slower {
  0%, 100% { opacity: 0.4; transform: scale(1); }
  50% { opacity: 0.9; transform: scale(1.05); }
}

@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slide-up {
  from { opacity: 0; transform: translateY(40px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fade-in-delayed {
  0%, 50% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes fade-in-slow {
  0%, 70% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes gradient-move {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.animate-pulse-slow { animation: pulse-slow 8s ease-in-out infinite; }
.animate-pulse-slower { animation: pulse-slower 14s ease-in-out infinite; }
.animate-fade-in { animation: fade-in 1s ease-out forwards; }
.animate-slide-up { animation: slide-up 1s ease-out forwards; }
.animate-fade-in-delayed { animation: fade-in-delayed 1.5s ease-out forwards; }
.animate-fade-in-slow { animation: fade-in-slow 2s ease-out forwards; }
.animate-gradient-move { background-size: 200% 200%; animation: gradient-move 10s ease-in-out infinite; }

/* Hide scrollbars for horizontal carousels */
.scrollbar-hidden {
  -ms-overflow-style: none; /* IE 10+ */
  scrollbar-width: none; /* Firefox */
}
.scrollbar-hidden::-webkit-scrollbar {
  display: none; /* Chrome/Safari */
}

/* Intersection reveal for main page sections */
.reveal {
  opacity: 0;
  transform: translateY(24px);
  transition: opacity 0.7s ease, transform 0.7s ease;
}
.reveal.is-visible {
  opacity: 1;
  transform: translateY(0);
}
@media (prefers-reduced-motion: reduce) {
  .reveal {
    opacity: 1;
    transform: none;
    transition: none;
  }
}

/* Light mode: enhanced button styling */
[data-theme="light"] #theme-scope button,
[data-theme="light"] #theme-scope a[role="button"],
[data-theme="light"] #theme-scope .btn {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

[data-theme="light"] #theme-scope button:hover,
[data-theme="light"] #theme-scope a[role="button"]:hover,
[data-theme="light"] #theme-scope .btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 25px -8px rgba(0, 0, 0, 0.2);
}

/* Light mode: enhanced text styling for better visual hierarchy */
[data-theme="light"] #theme-scope h1,
[data-theme="light"] #theme-scope h2,
[data-theme="light"] #theme-scope h3,
[data-theme="light"] #theme-scope h4 {
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.05);
}

[data-theme="light"] #theme-scope .font-display {
  text-shadow: 0 4px 8px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
}
