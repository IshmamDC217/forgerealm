@font-face {
  font-family: "Bree Serif";
  src: url("/fonts/Bree_Serif/BreeSerif-Regular.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Bree Serif";
  src: url("/fonts/Bree_Serif/BreeSerif-Regular.ttf") format("truetype");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Bree Serif";
  src: url("/fonts/Bree_Serif/BreeSerif-Regular.ttf") format("truetype");
  font-weight: 800;
  font-style: normal;
  font-display: swap;
}

:root {
  --background: #ffffff;
  --foreground: #171717;
  --font-display: "Bree Serif", serif;
  /* theme tokens for adaptive UI */
  --fg: var(--foreground);
  --fg-muted: #374151; /* gray-700 for stronger contrast on light */
  --surface: rgba(255, 255, 255, 0.88); /* translucent white for overlays on blue */
  --border: rgba(0, 0, 0, 0.12);
}

/* Explicit theme override via data-theme attribute */
[data-theme="light"] {
  --background: #f7f5f0;
  --foreground: #0f172a;
  --fg: #0f172a;
  --fg-muted: #475569;
  --surface: rgba(255, 255, 255, 0.9);
  --border: rgba(15, 23, 42, 0.12);
}

[data-theme="dark"] {
  --background: #0a0a0a;
  --foreground: #ededed;
  --fg: #ededed;
  --fg-muted: #cbd5e1; /* slate-300 for dark */
  --surface: rgba(255, 255, 255, 0.07);
  --border: rgba(255, 255, 255, 0.10);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-fg: var(--fg);
  --color-fg-muted: var(--fg-muted);
  --color-surface: var(--surface);
  --color-border: var(--border);

  /* ✅ Link to Next.js font variables */
  --font-sans: ui-sans-serif, system-ui, -apple-system, sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, monospace;
}

/* System preference is used only when no explicit data-theme is set */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* ✅ Use Geist fonts with local fallbacks for instant render */
body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), ui-sans-serif, system-ui, -apple-system, sans-serif;
}

/* Utility: display font for brand/headers */
.font-display {
  font-family: "Bree Serif", serif !important;
}

/* Brand display font for the main hero wordmark */
.font-brand {
  font-family: var(--font-display), var(--font-sans), ui-sans-serif, -apple-system, sans-serif !important;
  letter-spacing: 0.02em;
  font-weight: 400;
}

/* Stronger surface glass effect for select containers */
.surface-strong {
  background-color: rgba(255, 255, 255, 0.10) !important; /* default fallback */
}

[data-theme="dark"] .surface-strong {
  background-color: rgba(255, 255, 255, 0.12) !important; /* less transparent */
}

[data-theme="light"] .surface-strong {
  background-color: rgba(255, 255, 255, 0.92) !important; /* slightly more solid in light */
}

/* Basic, global light-mode expectation */
[data-theme="light"] #theme-scope {
  background: #ebe2d2 !important;
  color: #0f172a !important;
}

/* Light theme surfaces: soft warm panels with subtle contrast */
[data-theme="light"] #theme-scope .theme-surface {
  background-color: #f2e8da !important;
}

/* Light theme gradients aligned to warm glass aesthetic */
[data-theme="light"] #theme-scope #services {
  background-image: linear-gradient(135deg, #f7f4ee 0%, #f7f4ee 60%, #fde9c7 60%, #f6d7a8 100%) !important;
}
[data-theme="light"] #theme-scope #materials {
  background-image: linear-gradient(315deg, #f7f4ee 0%, #f7f4ee 45%, #e9f4e7 45%, #cfe8d1 100%) !important;
}

/* Work: neutral warm gradient to match updated dark tone */
[data-theme="light"] #theme-scope #work {
  background-image: linear-gradient(135deg, #f7f4ee 0%, #efe9df 55%, #f6e4cf 100%) !important;
}

/* FAQ + Contact: warm gold tones with soft contrast */
[data-theme="light"] #theme-scope #faq {
  background-image: linear-gradient(135deg, #f3e7d6 0%, #f3e7d6 60%, #f2d3a5 60%, #e6b97e 100%) !important;
}
[data-theme="light"] #theme-scope #contact {
  background-image: linear-gradient(315deg, #f7f4ee 0%, #f7f4ee 60%, #e6eefc 60%, #cfe0f6 100%) !important;
}

/* Light mode text fixes for dark-tuned utility classes inside theme scope */
[data-theme="light"] #theme-scope .text-slate-200,
[data-theme="light"] #theme-scope .text-slate-200\/80,
[data-theme="light"] #theme-scope .text-slate-300,
[data-theme="light"] #theme-scope .text-slate-300\/70,
[data-theme="light"] #theme-scope .text-slate-400,
[data-theme="light"] #theme-scope .text-white,
[data-theme="light"] #theme-scope .text-white\/90,
[data-theme="light"] #theme-scope .text-white\/60,
[data-theme="light"] #theme-scope .text-white\/70,
[data-theme="light"] #theme-scope .text-white\/80 {
  color: #1f2937 !important;
}

/* Light mode: warm amber text tokens for FAQ accents */
[data-theme="light"] #theme-scope .text-amber-100,
[data-theme="light"] #theme-scope .text-amber-200,
[data-theme="light"] #theme-scope .text-amber-200\/70 {
  color: #7c2d12 !important;
}
[data-theme="light"] #theme-scope .border-amber-200\/40 {
  border-color: rgba(124, 45, 18, 0.3) !important;
}
[data-theme="light"] #theme-scope .bg-amber-400\/10 {
  background-color: rgba(252, 211, 77, 0.25) !important;
}

/* Light mode modal surfaces for Work + Shop */
[data-theme="light"] #theme-scope .work-modal,
[data-theme="light"] #theme-scope .shop-modal {
  background-color: #f7f4ee !important;
  border-color: rgba(15, 23, 42, 0.16) !important;
  color: #0f172a;
  border-radius: 1.5rem;
}

[data-theme="light"] #theme-scope .modal-overlay {
  background-color: rgba(15, 23, 42, 0.45) !important;
}

[data-theme="light"] #theme-scope .modal-label {
  color: #0f172a !important;
}

[data-theme="light"] #theme-scope .modal-header {
  border-top-left-radius: 1.5rem;
  border-top-right-radius: 1.5rem;
}

.modal-body {
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;
  touch-action: pan-y;
}

/* Light mode card contrast + shadow for all containers */
[data-theme="light"] #theme-scope .bg-white\/5 {
  background-color: rgba(255, 255, 255, 0.78) !important;
  box-shadow: 0 30px 70px -40px rgba(15, 23, 42, 0.35);
}
[data-theme="light"] #theme-scope .border-white\/10 {
  border-color: rgba(15, 23, 42, 0.12) !important;
}
[data-theme="light"] #theme-scope .border-white\/20 {
  border-color: rgba(15, 23, 42, 0.2) !important;
}

/* Light mode: stronger contrast for FAQ sidebar KPI cards */
[data-theme="light"] #theme-scope #faq .bg-white\/5 {
  background-color: rgba(255, 255, 255, 0.9) !important;
  box-shadow: 0 24px 50px -35px rgba(15, 23, 42, 0.45);
}
[data-theme="light"] #theme-scope #faq .text-white {
  color: #0f172a !important;
}
/* Make specific CTA text white in light mode for contrast on dark button */
[data-theme="light"] #theme-scope .email-cta {
  color: #ffffff !important;
}

/* Light mode card treatment */
[data-theme="light"] .light-panel {
  background: linear-gradient(45deg, #fff -25%, transparent);
  box-shadow: inset -5px 5px 5px -5px #fff8, inset 5px -5px 5px -5px #fff8,
    var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000),
    var(--tw-shadow), 2px -1px 14px -10px #0004;
  border-color: rgba(203, 213, 225, 0.8);
}

code, pre {
  font-family: var(--font-mono), ui-monospace, SFMono-Regular, Menlo, monospace;
}

/* Animations & custom utilities (unchanged) */
@keyframes marquee {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-50%);
  }
}

#workScroller::-webkit-scrollbar {
  display: none;
}

/* Global styles for Spline scaling */
.spline-scene {
  width: 100vw; /* Full viewport width */
  height: 100vh; /* Full viewport height */
}

/* For tablets (max-width: 1024px), reduce the size a bit */
@media (max-width: 1024px) {
  .spline-scene {
    width: 85vw;
    height: 85vh;
  }
}

/* For mobile screens (max-width: 640px), scale down even more */
@media (max-width: 640px) {
  .spline-scene {
    width: 75vw;
    height: 75vh;
  }
}

/* Smooth spinning animation */
@keyframes spin-smooth {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
.animate-spin-smooth {
  animation: spin-smooth 2.2s linear infinite;
}

/* Soft pulse animation */
@keyframes pulse-soft {
  0%, 100% { opacity: 0.4; transform: scale(0.95); }
  50% { opacity: 0.8; transform: scale(1); }
}
.animate-pulse-soft {
  animation: pulse-soft 2.5s ease-in-out infinite;
}

/* Glowing fade animation */
@keyframes fade-glow {
  0%, 100% { opacity: 0.7; filter: drop-shadow(0 0 10px rgba(96,165,250,0.4)); }
  50% { opacity: 1; filter: drop-shadow(0 0 18px rgba(96,165,250,0.6)); }
}
.animate-fade-glow {
  animation: fade-glow 3s ease-in-out infinite;
}

/* Shimmer animation */
@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(300%); }
}
.animate-shimmer {
  animation: shimmer 1.8s linear infinite;
}

/* Button adjustments */
.button-explore {
  padding-left: 24px;
  padding-right: 24px;
  padding-top: 12px;
  padding-bottom: 12px;
  font-size: 1.125rem;
}

/* Hero spline positioning */
.hero-spline {
  position: absolute !important;
  top: 0;
  left: 0;
  width: 100vw !important;
  height: 100vh !important;
  object-fit: cover;
}

@keyframes pulse-slow {
  0%, 100% { opacity: 0.6; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.1); }
}

@keyframes pulse-slower {
  0%, 100% { opacity: 0.4; transform: scale(1); }
  50% { opacity: 0.9; transform: scale(1.05); }
}

@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slide-up {
  from { opacity: 0; transform: translateY(40px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fade-in-delayed {
  0%, 50% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes fade-in-slow {
  0%, 70% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes gradient-move {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.animate-pulse-slow { animation: pulse-slow 8s ease-in-out infinite; }
.animate-pulse-slower { animation: pulse-slower 14s ease-in-out infinite; }
.animate-fade-in { animation: fade-in 1s ease-out forwards; }
.animate-slide-up { animation: slide-up 1s ease-out forwards; }
.animate-fade-in-delayed { animation: fade-in-delayed 1.5s ease-out forwards; }
.animate-fade-in-slow { animation: fade-in-slow 2s ease-out forwards; }
.animate-gradient-move { background-size: 200% 200%; animation: gradient-move 10s ease-in-out infinite; }

/* Intersection reveal for main page sections */
.reveal {
  opacity: 0;
  transform: translateY(24px);
  transition: opacity 0.7s ease, transform 0.7s ease;
}
.reveal.is-visible {
  opacity: 1;
  transform: translateY(0);
}
@media (max-width: 768px) {
  .reveal {
    transform: translateY(16px);
    transition-duration: 0.45s;
  }
}
@media (prefers-reduced-motion: reduce) {
  .reveal {
    opacity: 1;
    transform: none;
    transition: none;
  }
}
